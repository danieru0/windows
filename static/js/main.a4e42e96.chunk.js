(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,function(e,t,a){"use strict";a.d(t,"c",function(){return i}),a.d(t,"e",function(){return l}),a.d(t,"h",function(){return o}),a.d(t,"d",function(){return r}),a.d(t,"a",function(){return c}),a.d(t,"g",function(){return s}),a.d(t,"j",function(){return p}),a.d(t,"i",function(){return u}),a.d(t,"b",function(){return m}),a.d(t,"f",function(){return _});var n=a(11),i=function(){return function(e){var t=JSON.parse(localStorage.getItem("app"));t?e({type:"REFRESH_DATA",data:t}):(e({type:"GET_LOCAL_STORAGE_FAILED"}),e(l()))}},l=function(){return function(e){localStorage.setItem("app",JSON.stringify({name:"Anonymous",city:"Unknown",wallpapers:{active:"https://images.unsplash.com/photo-1498598457418-36ef20772bb9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80",0:"https://wallpapers.wallhaven.cc/wallpapers/full/wallhaven-633064.jpg",1:"https://images.unsplash.com/photo-1498598457418-36ef20772bb9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80"},taskbarContext:!1,files:{0:{name:"Text file",type:"txt",background:"http://icons.iconarchive.com/icons/pelfusion/flat-file-type/256/txt-icon.png",text:"THIS IS JUST SIMPLE TEXT",index:0,xPosition:null,yPosition:null,password:null},1:{name:"Youtube link",type:"link",href:"https://www.youtube.pl",index:1,background:"http://icons.iconarchive.com/icons/danleech/simple/256/youtube-icon.png",xPosition:null,yPosition:null,password:null}}}));localStorage.setItem("running",JSON.stringify({active:{}})),e({type:"REFRESH_DATA",data:JSON.parse(localStorage.getItem("app"))})}},o=function(e,t,a,n){return function(i){e.files[n]&&(e.files[n].xPosition=t,e.files[n].yPosition=a,i(function(e){return function(t){localStorage.setItem("app",JSON.stringify(e)),t({type:"REFRESH_DATA",data:e})}}(e)))}},r=function(){return function(e){e({type:"REFRESH_RUNNING_DATA",data:JSON.parse(localStorage.getItem("running"))})}},c=function(e,t){return function(a){var n=parseInt(Object.keys(e.active)[Object.keys(e.active).length-1]),i=isNaN(n)?0:n+1,l=t.index;e.active[i]=t,e.active[i].fileIndex=i,e.active[i].index=l,e.active[i].minimalized=!1,e.active[i].xPosition=null,e.active[i].yPosition=null,localStorage.setItem("running",JSON.stringify(e)),a({type:"REFRESH_RUNNING_DATA",data:JSON.parse(localStorage.getItem("running"))})}},s=function(e,t){return function(a){delete e.active[t],localStorage.setItem("running",JSON.stringify(e)),a({type:"REFRESH_RUNNING_DATA",data:JSON.parse(localStorage.getItem("running"))})}},p=function(e,t,a){return function(n){try{e.active[t].minimalized=!e.active[t].minimalized}catch(i){e.active[a].minimalized=!e.active[a].minimalized}localStorage.setItem("running",JSON.stringify(e)),n({type:"REFRESH_RUNNING_DATA",data:JSON.parse(localStorage.getItem("running"))})}},u=function(e,t,a,n){return function(i){e.active[n].xPosition=t,e.active[n].yPosition=a,localStorage.setItem("running",JSON.stringify(e)),i({type:"REFRESH_RUNNING_DATA",data:e})}},m=function(e,t,a){return function(n){e.files[a].name=t,localStorage.setItem("app",JSON.stringify(e)),n({type:"REFRESH_DATA",data:JSON.parse(localStorage.getItem("app"))})}},_=function(e,t){return function(a){"audio"===e.files[t].type&&n.a.audios.where("index").equals(Number(t)).delete(),"video"===e.files[t].type&&n.a.videos.where("index").equals(Number(t)).delete(),"image"===e.files[t].type&&n.a.images.where("index").equals(Number(t)).delete(),delete e.files[t],localStorage.setItem("app",JSON.stringify(e)),a({type:"REFRESH_DATA",data:JSON.parse(localStorage.getItem("app"))})}}},,,,,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"p",function(){return runTerminalApplication}),__webpack_require__.d(__webpack_exports__,"g",function(){return help}),__webpack_require__.d(__webpack_exports__,"e",function(){return echo}),__webpack_require__.d(__webpack_exports__,"a",function(){return author}),__webpack_require__.d(__webpack_exports__,"b",function(){return calculator}),__webpack_require__.d(__webpack_exports__,"q",function(){return touch}),__webpack_require__.d(__webpack_exports__,"r",function(){return whoami}),__webpack_require__.d(__webpack_exports__,"j",function(){return ls}),__webpack_require__.d(__webpack_exports__,"o",function(){return rm}),__webpack_require__.d(__webpack_exports__,"h",function(){return href}),__webpack_require__.d(__webpack_exports__,"n",function(){return rename}),__webpack_require__.d(__webpack_exports__,"k",function(){return passfile}),__webpack_require__.d(__webpack_exports__,"l",function(){return passfilerm}),__webpack_require__.d(__webpack_exports__,"i",function(){return kill}),__webpack_require__.d(__webpack_exports__,"d",function(){return date}),__webpack_require__.d(__webpack_exports__,"f",function(){return exec}),__webpack_require__.d(__webpack_exports__,"c",function(){return clearOutput}),__webpack_require__.d(__webpack_exports__,"m",function(){return ps});var _localStorage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),runTerminalApplication=function(e){return function(t){var a=parseInt(Object.keys(e.active)[Object.keys(e.active).length-1]);e.active[isNaN(a)?0:a+1]={background:"https://cdn4.iconfinder.com/data/icons/small-n-flat/24/terminal-512.png",name:"Terminal",type:"terminal",index:isNaN(a)?0:a+1,minimalized:!1},localStorage.setItem("running",JSON.stringify(e)),t({type:"REFRESH_RUNNING_DATA",data:JSON.parse(localStorage.getItem("running"))})}},help=function(){return function(e){e({type:"UPDATE_OUTPUT",data:"\n            <p>> help</p>\n            <p>echo</p>\n            <p>cls</p>\n            <p>calculator</p>\n            <p>author</p>\n            <p>touch</p>\n            <p>exit</p>\n            <p>whoami</p>\n            <p>ls</p>\n            <p>rm</p>\n            <p>href</p>\n            <p>rename</p>\n            <p>passfile</p>\n            <p>passfilerm</p>\n            <p>kill</p>\n            <p>exec</p>\n            <p>ps</p>\n        "})}},echo=function(e,t){return function(e){var a=t.replace("echo","");e({type:"UPDATE_OUTPUT",data:"\n            <p>> echo ".concat(a,"</p>\n            <p>").concat(a,"</p>\n        ")})}},author=function(){return function(e){e({type:"UPDATE_OUTPUT",data:"\n            <p>> author</p>\n            <p>Daniel D\u0105browski</p>\n            <p>www.github.com/elosiktv</p>\n        "})}},calculator=function calculator(inProgram,value){return function(dispatch){inProgram?value.match(/^[0-9\/\W\/]+$/)?dispatch({type:"UPDATE_OUTPUT",data:"<p>calculator> ".concat(value,"</p><p>").concat(eval(value),"</p>")}):"stop"===value&&dispatch({type:"REMOVE_PROGRAM",data:"<p>calculator> stop</p>"}):dispatch({type:"SET_PROGRAM",data:{program:"calculator",output:"<p>> calculator</p><p>Type 'stop' to stop calculator</p>"}})}},touch=function(e,t){return function(e){var a=t.replace("touch","");if(a){var n=JSON.parse(localStorage.getItem("app")),i=parseInt(Object.keys(n.files)[Object.keys(n.files).length-1]);n.files[isNaN(i)?0:i+1]={name:a,type:"txt",background:"http://icons.iconarchive.com/icons/pelfusion/flat-file-type/256/txt-icon.png",text:"",index:isNaN(i)?0:i+1,xPosition:null,yPosition:null},localStorage.setItem("app",JSON.stringify(n)),e({type:"REFRESH_DATA",data:JSON.parse(localStorage.getItem("app"))}),e({type:"UPDATE_OUTPUT",data:"<p>> touch ".concat(a,"</p><p>Created txt file with name: ").concat(a,"</p>")})}else e({type:"UPDATE_OUTPUT",data:'<p>> touch</p><p>Correct syntax: touch "file name"</p>'})}},whoami=function(){return function(e){var t=JSON.parse(localStorage.getItem("app"));e({type:"UPDATE_OUTPUT",data:"<p>> whoami</p><p>".concat(t.name,"</p>")})}},ls=function(){return function(e){var t,a=JSON.parse(localStorage.getItem("app"));Object.keys(a.files).map(function(e){return t+="<p>".concat(e," ").concat(a.files[e].name,".").concat(a.files[e].type,"</p>"),null}),e({type:"UPDATE_OUTPUT",data:"<p>> ls</p><p>".concat(t.replace("undefined",""),"</p>")})}},rm=function(e,t){return function(e){var a=t.replace("rm","");if(""!==a&&0!==a.length&&!0!==isNaN(a)){var n=JSON.parse(localStorage.getItem("app"));e(Object(_localStorage__WEBPACK_IMPORTED_MODULE_0__.f)(n,parseInt(a))),e({type:"UPDATE_OUTPUT",data:"<p>> rm ".concat(a,"</p><p>file with index ").concat(a," has been deleted</p>")})}else e({type:"UPDATE_OUTPUT",data:"<p>> rm</p><p>Correct syntax: rm \"file index\"</p><p>Use 'ls' to get file index</p>"})}},href=function(e,t){return function(e){var a=t.replace("href","");a?a.indexOf("http")>-1||a.indexOf("https")>-1?window.open(a):window.open("https://".concat(a.replace(/ /g,""))):e({type:"UPDATE_OUTPUT",data:'<p>> href</p><p>Correct syntax: href "url"</p>'})}},rename=function(e,t){return function(e){var a=t.replace("rename","").split(" ")[1],n=t.replace("rename","").replace(a,"");if(a&&n){var i=JSON.parse(localStorage.getItem("app"));i.files[a].name=n,localStorage.setItem("app",JSON.stringify(i)),e({type:"REFRESH_DATA",data:JSON.parse(localStorage.getItem("app"))}),e({type:"UPDATE_OUTPUT",data:"<p>> rename ".concat(a," ").concat(n,"</p><p>Name changed for file ").concat(a,"</p>")})}else e({type:"UPDATE_OUTPUT",data:"<p>> rename ".concat(a||""," ").concat(n||"",'</p><p>Correct syntax: rename "index" "name"</p><p>Use \'ls\' to get file index</p>')})}},passfile=function(e,t){return function(e){var a=t.replace("passfile",""),n=a.split(" ")[1],i=a.split(" ")[2];if(n&&i){var l=JSON.parse(localStorage.getItem("app"));l.files[n].password=i,localStorage.setItem("app",JSON.stringify(l)),e({type:"UPDATE_OUTPUT",data:"<p>> passfile ".concat(n," ").concat(i,"</p><p>Password changed for file with index: ").concat(n,"</p>")}),e({type:"REFRESH_DATA",data:JSON.parse(localStorage.getItem("app"))})}else e({type:"UPDATE_OUTPUT",data:"<p>> passfile ".concat(n||""," ").concat(i||"","</p><p>Correct syntax: passfile \"index\" \"password\"</p><p>Use 'ls' to get file index</p><p>Use 'passfilerm' to remove password</p>")})}},passfilerm=function(e,t){return function(e){var a=parseInt(t.replace("passfilerm",""));if(""!==a&&0!==a.length&&!0!==isNaN(a)){var n=JSON.parse(localStorage.getItem("app"));n.files[a].password=null,localStorage.setItem("app",JSON.stringify(n)),e({type:"REFRESH_DATA",data:JSON.parse(localStorage.getItem("app"))}),e({type:"UPDATE_OUTPUT",data:"<p>> passfilerm ".concat(a,"</p><p>Password removed for file with index: ").concat(a,"</p>")})}else e({type:"UPDATE_OUTPUT",data:"<p>> passfilerm </p><p>Correct syntax: passfilerm \"index\"</p><p>Use 'ls' to get file index</p>"})}},kill=function(e,t){return function(e){var a=parseInt(t.replace("kill","")),n=JSON.parse(localStorage.getItem("running"));""!==a&&0!==a.length&&!0!==isNaN(a)?(e(Object(_localStorage__WEBPACK_IMPORTED_MODULE_0__.g)(n,a)),e({type:"UPDATE_OUTPUT",data:"<p>> kill ".concat(a,"</p><p>Program with index ").concat(a," has been killed</p>")})):e({type:"UPDATE_OUTPUT",data:"<p>> kill </p><p>Correct syntax: kill \"index\"</p><p>Use 'ps' to get active programs</p>"})}},date=function(){return function(e){e({type:"UPDATE_OUTPUT",data:"<p>> date </p><p>".concat(new Date,"</p>")})}},exec=function e(t,a){return function(n){var i=parseInt(a.replace("exec","")),l=JSON.parse(localStorage.getItem("running")),o=JSON.parse(localStorage.getItem("app"));if(""!==i&&0!==i.length&&!0!==isNaN(i)){if(o.files[i].password){var r=prompt("Password: ");if(!r)return!1;if(r!==o.files[i].password)return e(t,a),!1}"link"===o.files[i].type?window.open(o.files[i].href):n(Object(_localStorage__WEBPACK_IMPORTED_MODULE_0__.a)(l,o.files[i])),n({type:"UPDATE_OUTPUT",data:"<p>> exec ".concat(i,"</p><p>Program with index ").concat(i," started</p>")})}else n({type:"UPDATE_OUTPUT",data:"<p>> exec </p><p>Correct syntax: exec \"index\"</p><p>Use 'ls' to get file index</p>"})}},clearOutput=function(){return function(e){e({type:"CLEAR_OUTPUT"})}},ps=function(){return function(e){var t,a=JSON.parse(localStorage.getItem("running"));Object.keys(a.active).map(function(e){return t+="<p>".concat(e," ").concat(a.active[e].name,".").concat(a.active[e].type,"</p>"),null}),e({type:"UPDATE_OUTPUT",data:"<p>> ps</p><p>".concat(t.replace("undefined",""),"</p>")})}}},function(e,t,a){"use strict";var n=new(a(24).a)("windowsDatabase");n.version(1).stores({videos:"title, index",audios:"title, index",images:"title, index"}),t.a=n},,,,,,,,,,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";var D_all_sites_windows_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),D_all_sites_windows_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),D_all_sites_windows_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6),D_all_sites_windows_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4),D_all_sites_windows_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),react_draggable__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(9),react_draggable__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react_draggable__WEBPACK_IMPORTED_MODULE_6__),react_redux__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(7),_store_actions_localStorage__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1),_Calculator_css__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(52),_Calculator_css__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_Calculator_css__WEBPACK_IMPORTED_MODULE_9__),Calculator=function(_Component){function Calculator(){var e,t;Object(D_all_sites_windows_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,Calculator);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(t=Object(D_all_sites_windows_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.a)(this,(e=Object(D_all_sites_windows_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.a)(Calculator)).call.apply(e,[this].concat(n)))).handleCloseButton=function(){t.props.removeRunningAppFromLocalStorage(t.props.applications,t.props.appData.index)},t.handleMinimalizeButton=function(){t.props.toggleMinimalizeApp(t.props.applications,t.props.appData.index)},t}return Object(D_all_sites_windows_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__.a)(Calculator,_Component),Object(D_all_sites_windows_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(Calculator,[{key:"componentDidMount",value:function componentDidMount(){var calculator=document.getElementById("calculator"),result=document.getElementById("calculator__result");calculator.addEventListener("click",function(e){"calculator__btn"===e.target.className&&(result.textContent+=e.target.value),"calculator-clear"===e.target.id&&(result.innerHTML=null),"calculator-remove"===e.target.id&&(result.innerHTML=result.innerHTML.slice(0,-1)),"calculator-eq"===e.target.id&&(result.innerHTML=eval(result.innerHTML))})}},{key:"render",value:function(){var e=this,t=this.props.appData;return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_draggable__WEBPACK_IMPORTED_MODULE_6___default.a,{handle:".calculator__topbar",bounds:"body"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{id:"calculator",ref:function(t){return e.calculator=t},onClick:function(){return e.props.onClick(e.calculator)},className:t.minimalized?"calculator minimalized":"calculator"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"calculator__topbar"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"calculator__name"},"Calculator"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"calculator__program-options"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{onClick:this.handleMinimalizeButton,className:"calculator__minimalize"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"calculator__minimalize-icon fa fa-window-minimize"})),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{onClick:this.handleCloseButton,className:"calculator__close"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"calculator__close-icon fa fa-times"})))),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{id:"calculator__result",className:"calculator__result"}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"calculator__row"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{id:"calculator-clear",className:"calculator__btn"},"C"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{value:"%",className:"calculator__btn"},"%"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{id:"calculator-remove",className:"calculator__btn"},"<"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{value:"/",className:"calculator__btn"},"/")),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"calculator__row"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{value:"7",className:"calculator__btn"},"7"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{value:"8",className:"calculator__btn"},"8"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{value:"9",className:"calculator__btn"},"9"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{value:"*",className:"calculator__btn"},"*")),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"calculator__row"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{value:"4",className:"calculator__btn"},"4"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{value:"5",className:"calculator__btn"},"5"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{value:"6",className:"calculator__btn"},"6"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{value:"-",className:"calculator__btn"},"-")),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"calculator__row"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{value:"1",className:"calculator__btn"},"1"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{value:"2",className:"calculator__btn"},"2"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{value:"3",className:"calculator__btn"},"3"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{value:"+",className:"calculator__btn"},"+")),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"calculator__row"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{value:"0",className:"calculator__btn"},"0"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{value:".",className:"calculator__btn"},"."),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{id:"calculator-eq",className:"calculator__btn"},"="))))}}]),Calculator}(react__WEBPACK_IMPORTED_MODULE_5__.Component),mapStateToProps=function(e){return{applications:e.localStorage.apps}};__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_7__.b)(mapStateToProps,{toggleMinimalizeApp:_store_actions_localStorage__WEBPACK_IMPORTED_MODULE_8__.j,removeRunningAppFromLocalStorage:_store_actions_localStorage__WEBPACK_IMPORTED_MODULE_8__.g})(Calculator)},,,function(e,t,a){e.exports=a(61)},,,,,function(e,t,a){},,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(18),o=a.n(l),r=(a(33),a(2)),c=a(3),s=a(6),p=a(4),u=a(5),m=a(7),_=a(1),d=a(11),f=function(e,t,a){return function(n){d.a.audios.add({title:e,index:t,base64:a}).then(function(){console.log("added")}).catch(function(e){console.log(e)})}},g=function(e){return function(t){d.a.audios.where("index").equals(e).toArray().then(function(e){var a=e[0];t({type:"LOAD_AUDIO",audio:a})})}},E=function(e,t,a){return function(n){d.a.videos.add({title:e,index:t,base64:a}).then(function(){console.log("added")}).catch(function(e){console.log(e)})}},v=function(e){return function(t){d.a.videos.where("index").equals(e).toArray().then(function(e){var a=e[0];t({type:"LOAD_VIDEO",video:a})})}},h=function(e,t,a){return function(n){d.a.images.add({title:e,index:t,base64:a}).then(function(){console.log("added")}).catch(function(e){console.log(e)})}},b=(a(41),function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"spinner"})}}]),t}(n.Component)),N=(a(42),function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"loadingScreen"},i.a.createElement(b,null))}}]),t}(n.Component)),O=a(9),y=a.n(O),k=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).handleDrag=function(e){var t=e.x-e.offsetX,n=e.layerY-e.offsetY;a.props.saveFilePosition(a.props.data,t,n,e.target.id),"App"!==e.target.className&&"file__overlay"===e.target.className&&"taskbar"!==e.target.parentElement.nextElementSibling.className&&e.target.parentElement.parentElement.insertBefore(e.target.parentElement,document.querySelector(".taskbar"))},a.handleStop=function(){a.file.style.zIndex="auto"},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.name,l=a.background,o=a.index,r=a.xPosition,c=a.yPosition,s=a.firstPosition,p={x:r||s.left,y:c||s.top};return n.length>30&&(e=n.substring(0,30)+"..."),i.a.createElement(y.a,{defaultPosition:p,onStop:this.handleStop,onDrag:this.handleDrag,bounds:"body"},i.a.createElement("div",{ref:function(e){return t.file=e},title:n,className:"file"},i.a.createElement("div",{onDoubleClick:this.props.onDoubleClick,id:o,className:"file__overlay"}),i.a.createElement("img",{className:"file__img",alt:"file",src:l}),i.a.createElement("p",{className:"file__name"},e||n)))}}]),t}(n.Component),S=Object(m.b)(function(e){return{data:e.localStorage.data}},{saveFilePosition:_.h})(k),C=(a(43),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).openApp=function(e){var t=a.props.files[e.target.id];if(t.password){var n=prompt("Password: ");if(!n)return!1;if(n!==t.password)return a.openApp(e),!1}if("link"!==t.type){var i=document.querySelector("audio"===t.type?".musicplayer":".videoplayer");if("audio"!==t.type&&"video"!==t.type)a.props.addRunningAppToLocalStorage(a.props.applications,t);else{if("audio"===t.type)if(i){var l=i.getBoundingClientRect();a.props.loadNewMusic(i.id,t.index,l.left,l.top)}else a.props.addRunningAppToLocalStorage(a.props.applications,t);"video"===t.type&&(i?a.props.getSpecificVideo(t.index):a.props.addRunningAppToLocalStorage(a.props.applications,t))}}else window.open(t.href)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.files,a=-120,n=0;return i.a.createElement(i.a.Fragment,null,Object.keys(t).map(function(l){var o=t[l];return(a+=120)>window.innerHeight-100&&(a=0,n+=120),i.a.createElement(S,{key:l,firstPosition:{top:a,left:n},xPosition:o.xPosition,yPosition:o.yPosition,index:l,onDoubleClick:e.openApp,name:o.name,background:o.background})}))}}]),t}(n.Component)),w=Object(m.b)(function(e){return{applications:e.localStorage.apps}},{addRunningAppToLocalStorage:_.a,getSpecificMusic:g,loadNewMusic:function(e,t,a,n){return function(i){var l=JSON.parse(localStorage.getItem("running")),o=JSON.parse(localStorage.getItem("app")),r=parseInt(Object.keys(l.active)[Object.keys(l.active).length-1]),c=isNaN(r)?0:r+1;delete l.active[e],l.active[c]=o.files[t],l.active[c].fileIndex=c,l.active[c].xPosition=a,l.active[c].yPosition=n,localStorage.setItem("running",JSON.stringify(l)),i({type:"REFRESH_RUNNING_DATA",data:JSON.parse(localStorage.getItem("running"))}),i(g(t))}},getSpecificVideo:v})(C),D=(a(44),function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(s.a)(this,Object(p.a)(t).call(this))).keyShortcut=function(t){"s"!==t.key&&"S"!==t.key||!t.ctrlKey&&!t.metaKey||(t.preventDefault(),e.setState({typing:!1}),e.props.saveNotepadState(e.props.data,e.props.appData.fileIndex,e.notepadEditor.innerHTML,e.props.applications))},e.handleTextAreaChange=function(t){e.setState({typing:!0})},e.handleCloseButton=function(){e.props.removeRunningAppFromLocalStorage(e.props.applications,e.props.appData.fileIndex)},e.handleMinimalizeButton=function(){e.props.toggleMinimalizeApp(e.props.applications,e.props.appData.fileIndex)},e.handleDrag=function(t){var a=t.x-t.offsetX,n=t.layerY-t.offsetY;e.props.saveProgramPosition(e.props.applications,a,n,e.props.appData.fileIndex)},e.saveNotepadText=function(){e.props.saveNotepadState(e.props.data,e.props.appData.fileIndex,e.notepadEditor.innerHTML,e.props.applications),e.setState({typing:!1})},e.handleEditorOptionClick=function(e){if(e.preventDefault(),"createLink"!==e.currentTarget.value&&"insertImage"!==e.currentTarget.value)document.execCommand(e.currentTarget.value,!1);else{var t=prompt("URL: ");t&&document.execCommand(e.currentTarget.value,!1,t)}},e.handleResizeButton=function(){e.setState({maximize:!e.state.maximize}),e.notepad.style.transform=null,e.notepad.style.top=0},e.state={typing:!1,maximize:!1},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.notepadEditor.innerHTML=this.props.appData.text,this.notepadEditor.addEventListener("keydown",this.keyShortcut)}},{key:"render",value:function(){var e=this,t=this.props,a=t.appData,n=t.applications,l={x:n.active[a.fileIndex].xPosition?n.active[a.fileIndex].xPosition:0,y:n.active[a.fileIndex].yPosition?n.active[a.fileIndex].yPosition:0};return i.a.createElement(y.a,{defaultPosition:l,onDrag:function(t){return e.handleDrag(t)},handle:".notepad__topbar",bounds:"body"},i.a.createElement("div",{ref:function(t){return e.notepad=t},onClick:function(){return e.props.onClick(e.notepad)},className:a.minimalized?this.state.maximize?"notepad minimalized maximize":"notepad minimalized":this.state.maximize?"notepad maximize":"notepad"},i.a.createElement("div",{className:"notepad__topbar"},i.a.createElement("span",{className:"notepad__name"},a.name),i.a.createElement("div",{className:"notepad__program-options"},i.a.createElement("button",{onClick:this.handleMinimalizeButton,className:"notepad__minimalize"},i.a.createElement("span",{className:"notepad__minimalize-icon fa fa-window-minimize"})),i.a.createElement("button",{onClick:this.handleResizeButton,className:"notepad__resize"},i.a.createElement("span",{className:"notepad__resize-icon fa fa-window-maximize"})),i.a.createElement("button",{onClick:this.handleCloseButton,className:"notepad__close"},i.a.createElement("span",{className:"notepad__close-icon fa fa-times"})))),i.a.createElement("div",{className:"notepad__content"},i.a.createElement("div",{className:"notepad__options"},i.a.createElement("button",{className:this.state.typing?"notepad__btn not-saved btn-save":"notepad__btn btn-save",onClick:this.saveNotepadText},i.a.createElement("span",{className:"fa fa-save"})),i.a.createElement("button",{onMouseDown:this.handleEditorOptionClick,value:"bold",className:"notepad__btn btn-bold"},i.a.createElement("span",{className:"fa fa-bold"})),i.a.createElement("button",{onMouseDown:this.handleEditorOptionClick,value:"italic",className:"notepad__btn btn-italic"},i.a.createElement("span",{className:"fa fa-italic"})),i.a.createElement("button",{onMouseDown:this.handleEditorOptionClick,value:"underline",className:"notepad__btn btn-underline"},i.a.createElement("span",{className:"fa fa-underline"})),i.a.createElement("button",{onMouseDown:this.handleEditorOptionClick,value:"justifyLeft",className:"notepad__btn"},i.a.createElement("span",{className:"fa fa-align-left"})),i.a.createElement("button",{onMouseDown:this.handleEditorOptionClick,value:"justifyCenter",className:"notepad__btn"},i.a.createElement("span",{className:"fa fa-align-center"})),i.a.createElement("button",{onMouseDown:this.handleEditorOptionClick,value:"justifyRight",className:"notepad__btn"},i.a.createElement("span",{className:"fa fa-align-right"})),i.a.createElement("button",{onMouseDown:this.handleEditorOptionClick,value:"justifyFull",className:"notepad__btn"},i.a.createElement("span",{className:"fa fa-align-justify"})),i.a.createElement("button",{onMouseDown:this.handleEditorOptionClick,value:"insertUnorderedList",className:"notepad__btn"},i.a.createElement("span",{className:"fa fa-list-ul"})),i.a.createElement("button",{onMouseDown:this.handleEditorOptionClick,value:"insertOrderedList",className:"notepad__btn"},i.a.createElement("span",{className:"fa fa-list-ol"})),i.a.createElement("button",{onMouseDown:this.handleEditorOptionClick,value:"outdent",className:"notepad__btn"},i.a.createElement("span",{className:"fa fa-outdent"})),i.a.createElement("button",{onMouseDown:this.handleEditorOptionClick,value:"indent",className:"notepad__btn"},i.a.createElement("span",{className:"fa fa-indent"})),i.a.createElement("button",{onMouseDown:this.handleEditorOptionClick,value:"createLink",className:"notepad__btn"},i.a.createElement("span",{className:"fa fa-link"})),i.a.createElement("button",{onMouseDown:this.handleEditorOptionClick,value:"insertImage",className:"notepad__btn"},i.a.createElement("span",{className:"fa fa-image"}))),i.a.createElement("div",{ref:function(t){return e.notepadEditor=t},contentEditable:"true",onInput:this.handleTextAreaChange,className:"notepad__textarea"}))))}}]),t}(n.Component)),I=Object(m.b)(function(e){return{applications:e.localStorage.apps,data:e.localStorage.data}},{removeRunningAppFromLocalStorage:_.g,saveProgramPosition:_.i,saveNotepadState:function(e,t,a,n){return function(i){e.files[t].text=a,n.active[t].text=a,localStorage.setItem("app",JSON.stringify(e)),localStorage.setItem("running",JSON.stringify(n)),i({type:"SAVE_NOTEPAD_TEXT_SUCCESS"})}},toggleMinimalizeApp:_.j})(D),x=a(17),P=(a(45),function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(s.a)(this,Object(p.a)(t).call(this))).handleCloseButton=function(){e.props.removeRunningAppFromLocalStorage(e.props.applications,e.props.index)},e.handleMinimalizeButton=function(){e.props.toggleMinimalizeApp(e.props.applications,e.props.index)},e.handleInputChange=function(t){e.setState(Object(x.a)({},t.target.id,t.target.value))},e.handleBtnClick=function(){e.state.link?(e.props.createNewLinkFile(e.props.data,e.state.link,e.state.icon),e.props.removeRunningAppFromLocalStorage(e.props.applications,e.props.index)):alert("You need provide a link!")},e.state={link:null,icon:null},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.minimalized;return i.a.createElement(y.a,{handle:".link__topbar",bounds:"body"},i.a.createElement("div",{ref:function(t){return e.linkProgram=t},onClick:function(){return e.props.onClick(e.linkProgram)},className:t?"link minimalized":"link"},i.a.createElement("div",{className:"link__topbar"},i.a.createElement("span",{className:"link__name"},"Link"),i.a.createElement("div",{className:"link__program-options"},i.a.createElement("button",{onClick:this.handleMinimalizeButton,className:"link__minimalize"},i.a.createElement("span",{className:"link__minimalize-icon fa fa-window-minimize"})),i.a.createElement("button",{onClick:this.handleCloseButton,className:"link__close"},i.a.createElement("span",{className:"link__close-icon fa fa-times"})))),i.a.createElement("div",{className:"link__content"},i.a.createElement("div",{className:"link__input-group"},i.a.createElement("label",{className:"link__label",htmlFor:"link"},"Link: "),i.a.createElement("input",{onChange:this.handleInputChange,className:"link__input",placeholder:"Link url",id:"link"})),i.a.createElement("div",{className:"link__input-group"},i.a.createElement("label",{className:"link__label",htmlFor:"icon"},"Icon image: "),i.a.createElement("input",{onChange:this.handleInputChange,className:"link__input",placeholder:"Image url",id:"icon"})),i.a.createElement("button",{onClick:this.handleBtnClick,className:"link__btn"},"Create"))))}}]),t}(n.Component)),T=Object(m.b)(function(e){return{data:e.localStorage.data,applications:e.localStorage.apps}},{removeRunningAppFromLocalStorage:_.g,toggleMinimalizeApp:_.j,createNewLinkFile:function(e,t,a){return function(n){var i=parseInt(Object.keys(e.files)[Object.keys(e.files).length-1]);e.files[i+1]={name:"Link file",type:"link",background:a||"https://img.icons8.com/flat_round/64/000000/link.png",index:isNaN(i)?0:i+1,href:t,xPosition:null,yPosition:null},localStorage.setItem("app",JSON.stringify(e)),n({type:"CREATE_TXT_FILE_SUCCESS",data:JSON.parse(localStorage.getItem("app"))})}}})(P),A=(a(46),function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(s.a)(this,Object(p.a)(t).call(this))).convertTime=function(e){var t=Math.floor(e/60);t<10&&(t="0"+String(t));var a=Math.floor(e%60);return a<10&&(a="0"+String(a)),t+":"+a},e.handleCloseButton=function(){e.props.removeRunningAppFromLocalStorage(e.props.applications,e.props.appData.fileIndex)},e.handleMinimalizeButton=function(){e.props.toggleMinimalizeApp(e.props.applications,e.props.appData.fileIndex)},e.handleRangeChange=function(t){e.audioElement.currentTime=t.target.value},e.musicTrigger=function(){e.setState({audioPause:!e.state.audioPause},function(){e.state.audioPause?e.audioElement.pause():e.audioElement.play()})},e.handleVolumeChange=function(t){e.audioElement.volume=t.target.value,e.setState({volumeValue:t.target.value})},e.toggleLoop=function(){e.setState({audioLoop:!e.state.audioLoop},function(){e.audioElement.loop=e.state.audioLoop})},e.changeImage=function(){var t=prompt("URL: ");t&&e.props.changeImage(e.props.appData.index,e.props.appData.fileIndex,t)},e.state={audioDuration:null,audioDurationUpdate:null,audioPause:!1,volumeValue:.3,audioLoop:!1},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.getSpecificMusic(this.props.appData.index),this.audioElement.volume=.3,this.audioElement.onloadedmetadata=function(){e.inputRange.max=e.audioElement.duration,e.setState({audioDuration:e.convertTime(e.audioElement.duration)})},this.audioElement.onchange=function(){return e.audioElement.currentTime=e.inputRange.value},this.audioElement.ontimeupdate=function(){e.inputRange&&(e.inputRange.value=e.audioElement.currentTime,e.setState({audioDurationUpdate:e.convertTime(e.audioElement.currentTime)}))};var t=0;this.textInterval=setInterval(function(){t<360?(t++,e.musicTitle.style.left="".concat(t,"px")):t=-376},30)}},{key:"componentWillUnmount",value:function(){this.audioElement.pause(),clearInterval(this.textInterval)}},{key:"render",value:function(){var e=this,t=this.props,a=t.appData,n=t.music,l={x:a.xPosition?a.xPosition:0,y:a.yPosition?a.yPosition:0};return i.a.createElement(y.a,{defaultPosition:l,handle:".musicplayer__topbar",bounds:"body"},i.a.createElement("div",{ref:function(t){return e.musicElement=t},onClick:function(){return e.props.onClick(e.musicElement)},id:a.fileIndex,className:a.minimalized?"musicplayer minimalized":"musicplayer"},i.a.createElement("audio",{autoPlay:!0,ref:function(t){return e.audioElement=t},src:n?n.base64:""}),i.a.createElement("div",{className:"musicplayer__topbar"},i.a.createElement("span",{className:"musicplayer__name"},"Music Player"),i.a.createElement("div",{className:"musicplayer__program-options"},i.a.createElement("button",{onClick:this.handleMinimalizeButton,className:"musicplayer__minimalize"},i.a.createElement("span",{className:"musicplayer__minimalize-icon fa fa-window-minimize"})),i.a.createElement("button",{onClick:this.handleCloseButton,className:"musicplayer__close"},i.a.createElement("span",{className:"musicplayer__close-icon fa fa-times"})))),i.a.createElement("div",{className:"musicplayer__content"},i.a.createElement("div",{className:"musicplayer__top"},i.a.createElement("p",null,"Now playing"),i.a.createElement("button",{onClick:this.changeImage,title:"Change image",className:"musicplayer__image-btn"},i.a.createElement("span",{className:"fa fa-image"}))),i.a.createElement("div",{className:"musicplayer__info"},i.a.createElement("img",{alt:"",src:a.image}),i.a.createElement("p",{ref:function(t){return e.musicTitle=t}},a.name)),i.a.createElement("div",{className:"musicplayer__timeline"},i.a.createElement("span",{className:"musicplayer__time"},this.state.audioDurationUpdate),i.a.createElement("input",{onChange:this.handleRangeChange,ref:function(t){return e.inputRange=t},className:"musicplayer__range",defaultValue:"0",type:"range"}),i.a.createElement("span",{className:"musicplayer__time"},this.state.audioDuration)),i.a.createElement("div",{className:"musicplayer__buttons"},i.a.createElement("button",{onClick:this.musicTrigger,className:"musicplayer__mainbtn"},this.state.audioPause?i.a.createElement("span",{className:"fa fa-play"}):i.a.createElement("span",{className:"fa fa-pause"})),i.a.createElement("button",{onClick:this.toggleLoop,className:"musicplayer__repeat"},i.a.createElement("span",{className:this.state.audioLoop?"fa fa-redo":"fa fa-redo not-clicked"}))),i.a.createElement("div",{className:"musicplayer__volume"},i.a.createElement("span",{className:"fa fa-volume-up"}),i.a.createElement("input",{className:"musicplayer__volume-range",onChange:this.handleVolumeChange,value:this.state.volumeValue,step:"0.01",min:"0",max:"1",type:"range"})))))}}]),t}(n.Component)),M=Object(m.b)(function(e){return{applications:e.localStorage.apps,music:e.musicPlayer.music}},{removeRunningAppFromLocalStorage:_.g,toggleMinimalizeApp:_.j,getSpecificMusic:g,changeImage:function(e,t,a){return function(n){var i=JSON.parse(localStorage.getItem("app")),l=JSON.parse(localStorage.getItem("running"));l.active[t].image=a,i.files[e].image=a,localStorage.setItem("app",JSON.stringify(i)),localStorage.setItem("running",JSON.stringify(l)),n({type:"REFRESH_DATA",data:JSON.parse(localStorage.getItem("app"))}),n({type:"REFRESH_RUNNING_DATA",data:JSON.parse(localStorage.getItem("running"))})}}})(A),R=(a(47),function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(s.a)(this,Object(p.a)(t).call(this))).handleBarClick=function(t){var a=e.videoBar.getBoundingClientRect(),n=t.pageX-a.x;e.barWidth=parseInt(getComputedStyle(e.videoBar).width.split("px")[0]),e.videoElement.currentTime=n*e.videoElement.duration/e.barWidth,e.videoElement.play(),e.setState({videoPause:!1})},e.handleVolumeChange=function(t){e.videoElement.volume=t.target.value,e.setState({volumeValue:t.target.value})},e.videoToggle=function(){e.setState({videoPause:!e.state.videoPause},function(){e.state.videoPause?e.videoElement.pause():e.videoElement.play()})},e.handleResize=function(){e.videoElement.requestFullscreen?e.videoElement.requestFullscreen():e.videoElement.webkitEnterFullScreen?e.videoElement.webkitEnterFullScreen():e.videoElement.mozRequestFullScreen&&e.videoElement.mozRequestFullScreen()},e.handleCloseButton=function(){e.props.removeRunningAppFromLocalStorage(e.props.applications,e.props.appData.fileIndex)},e.handleMinimalizeButton=function(){e.props.toggleMinimalizeApp(e.props.applications,e.props.appData.fileIndex)},e.handleResizeButton=function(){e.setState({maximize:!e.state.maximize}),e.videoPlayer.style.transform=null,e.videoPlayer.style.top=0},e.convertTime=function(e){var t=Math.floor(e/60);t<10&&(t="0"+String(t));var a=Math.floor(e%60);return a<10&&(a="0"+String(a)),t+":"+a},e.state={videoDuration:"00:00",videoDurationUpdate:"00:00",volumeValue:.3,videoPause:!1,maximize:!1},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.getSpecificVideo(this.props.appData.index),this.videoElement.volume=.3,this.videoElement.onloadedmetadata=function(){e.setState({videoDuration:e.convertTime(e.videoElement.duration)})},this.barWidth=getComputedStyle(this.videoBar).width.split("px")[0],this.videoElement.ontimeupdate=function(){e.progressBar&&(e.progressBar.style.width="".concat(e.videoElement.currentTime*e.barWidth/e.videoElement.duration,"px"),e.setState({videoDurationUpdate:e.convertTime(e.videoElement.currentTime)}))}}},{key:"componentWillUnmount",value:function(){document.getElementById("videoElement").src=null,this.props.clearVideoReducer()}},{key:"render",value:function(){var e=this,t=this.props,a=t.appData,n=t.video;return i.a.createElement(y.a,{handle:".videoplayer__topbar",bounds:"body"},i.a.createElement("div",{ref:function(t){return e.videoPlayer=t},onClick:function(){return e.props.onClick(e.videoPlayer)},className:a.minimalized?this.state.maximize?"videoplayer minimalized maximize":"videoplayer minimalized":this.state.maximize?"videoplayer maximize":"videoplayer"},i.a.createElement("div",{className:"videoplayer__topbar"},i.a.createElement("span",{className:"videoplayer__name"},"Video Player"),i.a.createElement("div",{className:"videoplayer__program-options"},i.a.createElement("button",{onClick:this.handleMinimalizeButton,className:"videoplayer__minimalize"},i.a.createElement("span",{className:"videoplayer__minimalize-icon fa fa-window-minimize"})),i.a.createElement("button",{onClick:this.handleResizeButton,className:"videoplayer__resize"},i.a.createElement("span",{className:"videoplayer__resize-icon fa fa-window-maximize"})),i.a.createElement("button",{onClick:this.handleCloseButton,className:"videoplayer__close"},i.a.createElement("span",{className:"videoplayer__close-icon fa fa-times"})))),i.a.createElement("div",{className:"videoplayer__content"},i.a.createElement("video",{ref:function(t){return e.videoElement=t},id:"videoElement",controlsList:"nodownload",autoPlay:!0,src:n.base64,className:"videoplayer__video"}),i.a.createElement("div",{className:"videoplayer__controls"},i.a.createElement("div",{onClick:this.handleBarClick,ref:function(t){return e.videoBar=t},className:"videoplayer__defaultBar"},i.a.createElement("div",{ref:function(t){return e.progressBar=t},className:"videoplayer__progressBar"})),i.a.createElement("div",{className:"videoplayer__wrapper"},i.a.createElement("div",{className:"videoplayer__group"},i.a.createElement("button",{onClick:this.videoToggle,className:"videoplayer__button videoplayer__toggle"},this.state.videoPause?i.a.createElement("span",{className:"fa fa-play"}):i.a.createElement("span",{className:"fa fa-pause"})),i.a.createElement("button",{className:"videoplayer__button videoplayer__volume"},i.a.createElement("span",{className:"fa fa-volume-up"})),i.a.createElement("input",{type:"range",onChange:this.handleVolumeChange,value:this.state.volumeValue,min:"0",max:"1",step:"0.01",className:"videoplayer__volume-range"})),i.a.createElement("span",{className:"videoplayer__time"},"".concat(this.state.videoDurationUpdate," / ").concat(this.state.videoDuration)),i.a.createElement("div",{className:"videoplayer__group"},i.a.createElement("button",{onClick:this.handleResize,className:"videoplayer__button videoplayer__resize"},i.a.createElement("span",{className:"fa fa-expand"}))))))))}}]),t}(n.Component)),j=Object(m.b)(function(e){return{applications:e.localStorage.apps,video:e.videoPlayer.video}},{getSpecificVideo:v,removeRunningAppFromLocalStorage:_.g,toggleMinimalizeApp:_.j,clearVideoReducer:function(){return function(e){e({type:"CLEAR_DATA"})}}})(R),U=(a(48),function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(s.a)(this,Object(p.a)(t).call(this))).handleInputChange=function(t){e.setState({inputValue:t.target.value})},e.toggleNameChange=function(t){"change"===t.target.value?(e.setState({buttonText:"save"}),t.target.value="save",document.querySelector(".informations__name").style.display="none",document.querySelector(".informations__input").classList.add("active")):(e.props.changeUserName(e.state.inputValue),e.setState({buttonText:"change"}),t.target.value="change",document.querySelector(".informations__name").style.display="block",document.querySelector(".informations__input").classList.remove("active"))},e.state={browserName:"unknown",browserVer:"unknown",buttonText:"change",inputValue:null},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){navigator.browserSpecs=function(){var e,t=navigator.userAgent,a=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(a[1])?{name:"IE",version:(e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""}:"Chrome"===a[1]&&null!=(e=t.match(/\b(OPR|Edge)\/(\d+)/))?{name:e[1].replace("OPR","Opera"),version:e[2]}:(a=a[2]?[a[1],a[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&a.splice(1,1,e[1]),{name:a[0],version:a[1]})}(),this.setState({browserName:navigator.browserSpecs.name,browserVer:navigator.browserSpecs.version,inputValue:this.props.data.name})}},{key:"render",value:function(){var e=this.props.data;return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{className:"informations__browsername"},this.state.browserName),i.a.createElement("p",{className:"informations__browserver"},this.state.browserVer),i.a.createElement("div",{className:"informations__username"},i.a.createElement("p",{className:"informations__name"},e.name),i.a.createElement("input",{onChange:this.handleInputChange,className:"informations__input",defaultValue:e.name}),i.a.createElement("button",{onClick:this.toggleNameChange,value:"change",className:"informations__btn"},this.state.buttonText)))}}]),t}(n.Component)),L=Object(m.b)(function(e){return{data:e.localStorage.data}},{changeUserName:function(e){return function(t){var a=JSON.parse(localStorage.getItem("app"));a.name=e,localStorage.setItem("app",JSON.stringify(a)),t({type:"REFRESH_DATA",data:JSON.parse(localStorage.getItem("app"))})}}})(U),z=(a(49),function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(s.a)(this,Object(p.a)(t).call(this))).handleWallpaperChange=function(t){document.querySelector(".wallpaper__container.active")&&document.querySelector(".wallpaper__container.active").classList.remove("active"),t.target.parentNode.classList.add("active"),e.setState({selectedImage:t.target.parentNode.dataset.value})},e.handleUrlInput=function(){var t=prompt("URL: ");null!==t&&e.validateUrl(t)&&e.props.addNewImage(t)},e.setWallpaper=function(){e.state.selectedImage&&e.props.changeWallpaper(e.state.selectedImage)},e.removeWallpaper=function(t){t.stopPropagation(),e.props.removeImage(t.target.parentNode.parentNode.dataset.index)},e.state={selectedImage:null},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"validateUrl",value:function(e){return/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(e)}},{key:"render",value:function(){var e=this,t=this.props.data;return i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"wallpaper__label"},"Wallpapers"),i.a.createElement("div",{className:"wallpaper__browser"},Object.keys(t.wallpapers).map(function(a,n){return"active"!==a?i.a.createElement("div",{key:n,"data-index":a,"data-value":t.wallpapers[a],onClick:e.handleWallpaperChange,className:"wallpaper__container"},i.a.createElement("div",{className:"wallpaper__container--checkbox"}),i.a.createElement("div",{onClick:e.removeWallpaper,className:"wallaper__container--remove"},i.a.createElement("span",{className:"fa fa-trash"})),i.a.createElement("img",{className:"wallpaper__imgs",src:t.wallpapers[a],alt:""})):""})),i.a.createElement("span",{className:"wallpaper__label"},"Import"),i.a.createElement("div",{className:"wallpaper__buttons"},i.a.createElement("button",{onClick:this.handleUrlInput,className:"wallpaper__btn"},"From url")),i.a.createElement("span",{className:"wallpaper__label"},"Save"),i.a.createElement("div",{className:"wallpaper__buttons"},i.a.createElement("button",{onClick:this.setWallpaper,className:"wallpaper__btn"},"Set wallpaper")))}}]),t}(n.Component)),B=Object(m.b)(function(e){return{data:e.localStorage.data}},{changeWallpaper:function(e){return function(t){var a=JSON.parse(localStorage.getItem("app"));a.wallpapers.active=e,localStorage.setItem("app",JSON.stringify(a)),t({type:"REFRESH_DATA",data:JSON.parse(localStorage.getItem("app"))})}},addNewImage:function(e){return function(t){var a=JSON.parse(localStorage.getItem("app")),n=parseInt(Object.keys(a.wallpapers)[Object.keys(a.wallpapers).length-2]);a.wallpapers[isNaN(n)?0:n+1]=e,localStorage.setItem("app",JSON.stringify(a)),t({type:"REFRESH_DATA",data:JSON.parse(localStorage.getItem("app"))})}},removeImage:function(e){return function(t){var a=JSON.parse(localStorage.getItem("app"));delete a.wallpapers[e],localStorage.setItem("app",JSON.stringify(a)),t({type:"REFRESH_DATA",data:JSON.parse(localStorage.getItem("app"))})}}})(z),F=(a(50),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).resetPosition=function(){window.confirm("Reset files positions and refresh page?")&&a.props.resetFilesPosition()},a.resetApp=function(){window.confirm("Are you sure?")&&a.props.resetApp()},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{onClick:this.resetPosition,className:"reset__btn"},"Reset files position"),i.a.createElement("button",{onClick:this.resetApp,className:"reset__btn"},"Reset app"))}}]),t}(n.Component)),W=Object(m.b)(null,{resetFilesPosition:function(){return function(e){var t=JSON.parse(localStorage.getItem("app"));Object.keys(t.files).map(function(e){return t.files[e].xPosition=null,t.files[e].yPosition=null,null}),localStorage.setItem("app",JSON.stringify(t)),e({type:"REFRESH_DATA",data:JSON.parse(localStorage.getItem("app"))}),window.location.reload()}},resetApp:function(){return function(e){e({type:"REFRESH_DATA",data:null}),localStorage.removeItem("app"),localStorage.removeItem("running"),d.a.delete().then(function(){e(Object(_.e)())})}}})(F),J=(a(51),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).handleCloseButton=function(){a.props.removeRunningAppFromLocalStorage(a.props.applications,a.props.appData.index)},a.handleMinimalizeButton=function(){a.props.toggleMinimalizeApp(a.props.applications,a.props.appData.index)},a.handleSectionChange=function(e){document.querySelector(".settings__item.active").classList.remove("active"),e.target.classList.add("active"),document.querySelector(".settings__section.active").classList.remove("active"),document.getElementById(e.target.dataset.value).classList.add("active")},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.appData;return i.a.createElement(y.a,{handle:".settings__topbar",bounds:"body"},i.a.createElement("div",{ref:function(t){return e.settings=t},onClick:function(){return e.props.onClick(e.settings)},className:t.minimalized?"settings minimalized":"settings"},i.a.createElement("div",{className:"settings__topbar"},i.a.createElement("span",{className:"settings__name"},"Settings"),i.a.createElement("div",{className:"settings__program-options"},i.a.createElement("button",{onClick:this.handleMinimalizeButton,className:"settings__minimalize"},i.a.createElement("span",{className:"settings__minimalize-icon fa fa-window-minimize"})),i.a.createElement("button",{onClick:this.handleCloseButton,className:"settings__close"},i.a.createElement("span",{className:"settings__close-icon fa fa-times"})))),i.a.createElement("div",{className:"settings__content"},i.a.createElement("div",{className:"settings__sidenav"},i.a.createElement("ul",{className:"settings__list"},i.a.createElement("li",{onClick:this.handleSectionChange,"data-value":"informations",className:"settings__item settings__item-informations active"},"Informations"),i.a.createElement("li",{onClick:this.handleSectionChange,"data-value":"wallpaper",className:"settings__item settings__item-wallpaper"},"Wallpaper"),i.a.createElement("li",{onClick:this.handleSectionChange,"data-value":"reset",className:"settings__item settings__item-reset"},"Reset"))),i.a.createElement("div",{className:"settings__sections"},i.a.createElement("section",{id:"informations",className:"settings__section settings__informations active"},i.a.createElement(L,null)),i.a.createElement("section",{id:"wallpaper",className:"settings__section settings__wallpaper"},i.a.createElement(B,null)),i.a.createElement("section",{id:"reset",className:"settings__section settings__reset"},i.a.createElement(W,null))))))}}]),t}(n.Component)),K=Object(m.b)(function(e){return{applications:e.localStorage.apps}},{removeRunningAppFromLocalStorage:_.g,toggleMinimalizeApp:_.j})(J),q=a(25),H=a(10),V=(a(53),function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(s.a)(this,Object(p.a)(t).call(this))).handleCloseButton=function(){e.props.removeRunningAppFromLocalStorage(e.props.applications,e.props.appData.index)},e.handleMinimalizeButton=function(){e.props.toggleMinimalizeApp(e.props.applications,e.props.appData.index)},e.toggleTyping=function(){e.setState({typing:!0})},e.handleInputEnter=function(t){if("Enter"===t.key&&t.target.value){if("cls"!==t.target.value&&"exit"!==t.target.value)try{e.props.program?e.props[e.props.program](!0,t.target.value):e.props[t.target.value.split(" ")[0]](!1,t.target.value)}catch(a){e.output.innerHTML+="<p>> ".concat(t.target.value,"</p><p>Command not found!</p>"),document.getElementById("terminal-content").scrollTop=document.getElementById("terminal-content").scrollHeight}else"cls"===t.target.value?e.output.innerHTML="":e.handleCloseButton();t.target.value="",e.setState({typing:!1})}},e.state={typing:!1},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){document.getElementById("terminal-input").focus()}},{key:"componentDidUpdate",value:function(){this.state.typing||this.props.clearOutput()}},{key:"componentWillUnmount",value:function(){this.props.clearOutput()}},{key:"render",value:function(){var e=this,t=this.props,a=t.output,n=t.program,l=t.appData;return this.output&&(this.output.innerHTML+=a,document.getElementById("terminal-content").scrollTop=document.getElementById("terminal-content").scrollHeight),i.a.createElement(y.a,{handle:".terminal__topbar",bounds:"body"},i.a.createElement("div",{id:"terminal",ref:function(t){return e.terminal=t},onClick:function(){return e.props.onClick(e.terminal)},className:l.minimalized?"terminal minimalized":"terminal"},i.a.createElement("div",{className:"terminal__topbar"},i.a.createElement("span",{className:"terminal__name"},"Terminal"),i.a.createElement("div",{className:"terminal__program-options"},i.a.createElement("button",{onClick:this.handleMinimalizeButton,className:"terminal__minimalize"},i.a.createElement("span",{className:"terminal__minimalize-icon fa fa-window-minimize"})),i.a.createElement("button",{onClick:this.handleCloseButton,className:"terminal__close"},i.a.createElement("span",{className:"terminal__close-icon fa fa-times"})))),i.a.createElement("div",{id:"terminal-content",onClick:function(){return document.getElementById("terminal-input").focus()},className:"terminal__content"},i.a.createElement("div",{ref:function(t){return e.output=t},className:"terminal__output"},i.a.createElement("p",null,"Type 'help' to get command list"),i.a.createElement("p",null,i.a.createElement("br",null))),i.a.createElement("span",null,n,"> "),i.a.createElement("input",{onChange:this.toggleTyping,onKeyPress:this.handleInputEnter,id:"terminal-input",className:"terminal__input"}))))}}]),t}(n.Component)),G=Object(m.b)(function(e){return{output:e.terminal.output,program:e.terminal.program,applications:e.localStorage.apps,refresh:e.terminal.refresh}},{help:H.g,echo:H.e,author:H.a,calculator:H.b,touch:H.q,whoami:H.r,ls:H.j,rm:H.o,href:H.h,rename:H.n,passfile:H.k,passfilerm:H.l,kill:H.i,date:H.d,exec:H.f,clearOutput:H.c,ps:H.m,removeRunningAppFromLocalStorage:_.g,toggleMinimalizeApp:_.j})(V),X=(a(54),function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(s.a)(this,Object(p.a)(t).call(this))).setPosition=function(t){var a=e.canvas.getBoundingClientRect();e.setState({posX:t.clientX-a.left,posY:t.clientY-a.top})},e.draw=function(t,a){a.lineJoin="round",a.lineWidth=e.state.lineWidth,a.lineCap="round",3===t.which?a.strokeStyle="#ffffff":a.strokeStyle=e.state.stroke,a.beginPath(),a.moveTo(e.state.posX,e.state.posY),e.setPosition(t),a.lineTo(e.state.posX,e.state.posY),a.stroke()},e.handleWidthRange=function(t){e.setState({lineWidth:t.target.value})},e.handleColorChange=function(t){e.setState({stroke:t.target.value})},e.clearCanvas=function(){e.canvas.getContext("2d").clearRect(0,0,e.canvas.width,e.canvas.height)},e.saveCanvas=function(){var t=document.createElement("a");t.href=e.canvas.toDataURL(),t.download="canvas.png",t.click()},e.handleCloseButton=function(){e.props.removeRunningAppFromLocalStorage(e.props.applications,e.props.appData.index)},e.handleMinimalizeButton=function(){e.props.toggleMinimalizeApp(e.props.applications,e.props.appData.index)},e.state={mouseDown:!1,posX:0,posY:0,stroke:"#111111",lineWidth:3},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.canvas.getContext("2d");this.canvas.addEventListener("mouseenter",function(t){e.setPosition(t)}),this.canvas.addEventListener("mousemove",function(a){e.state.mouseDown&&e.draw(a,t)}),this.canvas.addEventListener("mousedown",function(t){e.setPosition(t),e.setState({mouseDown:!0})}),this.canvas.addEventListener("mouseup",function(t){e.setState({mouseDown:!1})})}},{key:"render",value:function(){var e=this,t=this.props.appData;return i.a.createElement(y.a,{handle:".paint__topbar",bounds:"body"},i.a.createElement("div",{ref:function(t){return e.paint=t},onClick:function(){return e.props.onClick(e.paint)},className:t.minimalized?"paint minimalized":"paint"},i.a.createElement("div",{className:"paint__topbar"},i.a.createElement("span",{className:"paint__name"},"Paint"),i.a.createElement("div",{className:"paint__program-options"},i.a.createElement("button",{onClick:this.handleMinimalizeButton,className:"paint__minimalize"},i.a.createElement("span",{className:"paint__minimalize-icon fa fa-window-minimize"})),i.a.createElement("button",{onClick:this.handleCloseButton,className:"paint__close"},i.a.createElement("span",{className:"paint__close-icon fa fa-times"})))),i.a.createElement("div",{className:"paint__content"},i.a.createElement("div",{className:"paint__toolbar"},i.a.createElement("input",{onChange:this.handleWidthRange,type:"range",defaultValue:"3",min:"1",max:"32"}),i.a.createElement("span",{className:"paint__width"},this.state.lineWidth),i.a.createElement("input",{onChange:this.handleColorChange,value:this.state.stroke,className:"paint__color",type:"color"}),i.a.createElement("button",{title:"clear",onClick:this.clearCanvas,className:"paint__erase"},i.a.createElement("span",{className:"fa fa-eraser"})),i.a.createElement("button",{title:"download",onClick:this.saveCanvas,className:"paint__save"},i.a.createElement("span",{className:"fa fa-download"}))),i.a.createElement("canvas",{ref:function(t){return e.canvas=t},id:"paint-canvas",className:"paint__canvas",width:"800",height:"550"}))))}}]),t}(n.Component)),Y=Object(m.b)(function(e){return{applications:e.localStorage.apps}},{removeRunningAppFromLocalStorage:_.g,toggleMinimalizeApp:_.j})(X),$=a(26),Q=(a(55),function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(s.a)(this,Object(p.a)(t).call(this))).handleResizeButton=function(){e.setState({maximize:!e.state.maximize},function(){return e.mw.reset()}),e.imageviewer.style.transform=null,e.imageviewer.style.top=0},e.handleCloseButton=function(){e.props.removeRunningAppFromLocalStorage(e.props.applications,e.props.appData.fileIndex)},e.handleMinimalizeButton=function(){e.props.toggleMinimalizeApp(e.props.applications,e.props.appData.fileIndex)},e.state={image:null,maximize:!1},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;d.a.images.where("index").equals(this.props.appData.index).toArray().then(function(t){e.setState({image:t[0].base64},function(){e.mw=Object($.a)({element:document.querySelector(".imageviewer__image"),zoomStep:.25})})})}},{key:"render",value:function(){var e=this,t=this.props.appData;return i.a.createElement(y.a,{handle:".imageviewer__topbar",bounds:"body"},i.a.createElement("div",{ref:function(t){return e.imageviewer=t},onClick:function(){return e.props.onClick(e.imageviewer)},className:t.minimalized?this.state.maximize?"imageviewer minimalized maximize":"imageviewer minimalized":this.state.maximize?"imageviewer maximize":"imageviewer"},i.a.createElement("div",{className:"imageviewer__topbar"},i.a.createElement("span",{className:"imageviewer__name"},"Image Viewer"),i.a.createElement("div",{className:"imageviewer__program-options"},i.a.createElement("button",{onClick:this.handleMinimalizeButton,className:"imageviewer__minimalize"},i.a.createElement("span",{className:"imageviewer__minimalize-icon fa fa-window-minimize"})),i.a.createElement("button",{onClick:this.handleResizeButton,className:"imageviewer__resize"},i.a.createElement("span",{className:"imageviewer__resize-icon fa fa-window-maximize"})),i.a.createElement("button",{onClick:this.handleCloseButton,className:"imageviewer__close"},i.a.createElement("span",{className:"imageviewer__close-icon fa fa-times"})))),i.a.createElement("div",{className:"imageviewer__content"},i.a.createElement("img",{className:"imageviewer__image",alt:"",src:this.state.image}))))}}]),t}(n.Component)),Z=Object(m.b)(function(e){return{applications:e.localStorage.apps}},{removeRunningAppFromLocalStorage:_.g,toggleMinimalizeApp:_.j})(Q),ee=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).makeFirst=function(e){"taskbar"!==e.nextElementSibling.className&&e.parentNode.insertBefore(e,document.querySelector(".taskbar"))},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.getRunningApplications()}},{key:"render",value:function(){var e=this,t=this.props.applications;return i.a.createElement(i.a.Fragment,null,t?Object.keys(t.active).map(function(a){var n=t.active[a];return"txt"===n.type?i.a.createElement(I,{onClick:e.makeFirst,appData:n,key:a}):"link"===n.type?i.a.createElement(T,{onClick:e.makeFirst,minimalized:n.minimalized,index:n.index,key:a}):"audio"===n.type?i.a.createElement(M,{onClick:e.makeFirst,appData:n,key:a}):"video"===n.type?i.a.createElement(j,{onClick:e.makeFirst,appData:n,key:a}):"settings"===n.type?i.a.createElement(K,{onClick:e.makeFirst,appData:n,key:a}):"calculator"===n.type?i.a.createElement(q.a,{onClick:e.makeFirst,appData:n,key:a}):"terminal"===n.type?i.a.createElement(G,{onClick:e.makeFirst,appData:n,key:a}):"paint"===n.type?i.a.createElement(Y,{onClick:e.makeFirst,appData:n,key:a}):"image"===n.type?i.a.createElement(Z,{onClick:e.makeFirst,appData:n,key:a}):""}):"")}}]),t}(n.Component),te=Object(m.b)(function(e){return{applications:e.localStorage.apps}},{getRunningApplications:_.d})(ee),ae=(a(56),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).handleClickOutside=function(){a.props.hideContextMenu(!1)},a.openSettings=function(){document.querySelector(".settings")||a.props.runSettingsApplication(a.props.applications)},a.openCalculator=function(){document.querySelector(".calculator")||a.props.runCalculatorApplication(a.props.applications)},a.openTerminal=function(){document.querySelector(".terminal")||a.props.runTerminalApplication(a.props.applications)},a.openPaint=function(){a.props.runPaintApplication(a.props.applications)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside)}},{key:"render",value:function(){return i.a.createElement("div",{className:"taskbar__context"},i.a.createElement("ul",{className:"taskbar__context-list"},i.a.createElement("li",{className:"taskbar__context-item"},i.a.createElement("button",{onClick:this.openSettings,className:"taskbar__context-btn"},i.a.createElement("span",{className:"taskbar__context-icon fa fa-cog"}),i.a.createElement("p",{className:"taskbar__context-text"},"Settings"))),i.a.createElement("li",{className:"taskbar__context-item"},i.a.createElement("button",{onClick:this.openPaint,className:"taskbar__context-btn"},i.a.createElement("span",{className:"taskbar__context-icon fa fa-palette"}),i.a.createElement("p",{className:"taskbar__context-text"},"Paint"))),i.a.createElement("li",{className:"taskbar__context-item"},i.a.createElement("button",{onClick:this.openCalculator,className:"taskbar__context-btn"},i.a.createElement("span",{className:"taskbar__context-icon fa fa-calculator"}),i.a.createElement("p",{className:"taskbar__context-text"},"Calculator"))),i.a.createElement("li",{className:"taskbar__context-item"},i.a.createElement("button",{onClick:this.openTerminal,className:"taskbar__context-btn"},i.a.createElement("span",{className:"taskbar__context-icon fa fa-terminal"}),i.a.createElement("p",{className:"taskbar__context-text"},"Terminal")))))}}]),t}(n.Component)),ne=Object(m.b)(function(e){return{applications:e.localStorage.apps}},{runSettingsApplication:function(e){return function(t){var a=parseInt(Object.keys(e.active)[Object.keys(e.active).length-1]);e.active[isNaN(a)?0:a+1]={background:"https://cdn0.iconfinder.com/data/icons/kameleon-free-pack-rounded/110/Settings-5-512.png",name:"Settings",type:"settings",index:isNaN(a)?0:a+1,minimalized:!1},localStorage.setItem("running",JSON.stringify(e)),t({type:"REFRESH_RUNNING_DATA",data:JSON.parse(localStorage.getItem("running"))})}},runCalculatorApplication:function(e){return function(t){var a=parseInt(Object.keys(e.active)[Object.keys(e.active).length-1]);e.active[isNaN(a)?0:a+1]={background:"https://cdn0.iconfinder.com/data/icons/tutor-icon-set/512/calculator_icon-512.png",name:"Calculator",type:"calculator",index:isNaN(a)?0:a+1,minimalized:!1},localStorage.setItem("running",JSON.stringify(e)),t({type:"REFRESH_RUNNING_DATA",data:JSON.parse(localStorage.getItem("running"))})}},runTerminalApplication:H.p,runPaintApplication:function(e){return function(t){var a=parseInt(Object.keys(e.active)[Object.keys(e.active).length-1]);e.active[isNaN(a)?0:a+1]={background:"https://cdn2.iconfinder.com/data/icons/circle-icons-1/64/paintcan-512.png",name:"Paint",type:"paint",index:isNaN(a)?0:a+1,minimalized:!1},localStorage.setItem("running",JSON.stringify(e)),t({type:"REFRESH_RUNNING_DATA",data:JSON.parse(localStorage.getItem("running"))})}}})(ae),ie=(a(57),function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(s.a)(this,Object(p.a)(t).call(this))).toggleContextMenu=function(){e.props.toggleTaskbarContextMenu(!e.props.contextMenu)},e.clickedOutside=function(t){e.props.toggleTaskbarContextMenu(t)},e.handleTaskbarFileClick=function(t){e.props.toggleMinimalizeApp(e.props.applications,t.index,t.fileIndex)},e.state={time:(new Date).toLocaleTimeString(),date:(new Date).toLocaleDateString()},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.clockInterval=setInterval(function(){e.setState({time:(new Date).toLocaleTimeString()})},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.clockInterval)}},{key:"render",value:function(){var e=this,t=this.props,a=t.contextMenu,n=t.applications;return i.a.createElement("div",{className:"taskbar"},a?i.a.createElement(ne,{hideContextMenu:this.clickedOutside}):"",i.a.createElement("button",{onClick:this.toggleContextMenu,className:"taskbar__windows-btn"},i.a.createElement("img",{className:"taskbar__window-icon",alt:"",src:"https://img.icons8.com/color/96/000000/windows-10.png"})),n?Object.keys(n.active).map(function(t,a){var l=n.active[t];return i.a.createElement("div",{onClick:function(){return e.handleTaskbarFileClick(l)},id:t,title:l.name,key:a,className:"taskbar__file"},i.a.createElement("img",{className:"taskbar__file-icon",alt:"",src:l.background}))}):"",i.a.createElement("div",{className:"taskbar__time"},i.a.createElement("p",{className:"taskbar__time-p"},"".concat(this.state.time.split(":")[0],":").concat(this.state.time.split(":")[1])),i.a.createElement("p",{className:"taskbar__time-p"},this.state.date.split(".").join("-"))))}}]),t}(n.Component)),le=Object(m.b)(function(e){return{contextMenu:e.taskbar.taskbarContext,applications:e.localStorage.apps}},{toggleTaskbarContextMenu:function(e){return function(t){t({type:"TOGGLE_TASKBAR_CONTEXT_MENU_SUCCESS",data:e})}},toggleMinimalizeApp:_.j})(ie),oe=(a(58),function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(s.a)(this,Object(p.a)(t).call(this))).createNewTxtFile=function(){e.props.createNewTxtFile(e.props.data),e.props.handleClickedItem()},e.createNewLinkFile=function(){e.props.runLinkApplication(e.props.applications),e.props.handleClickedItem()},e.renameFile=function(){e.props.handleClickedItem();var t=prompt("New file name:",e.props.clickedElement.parentNode.title);null!==t&&e.props.changeFileName(e.props.data,t,e.props.clickedElementId)},e.removeFile=function(){e.props.handleClickedItem(),e.props.removeFile(e.props.data,e.props.clickedElementId)},e.closeProgram=function(){e.props.handleClickedItem(),e.props.removeRunningAppFromLocalStorage(e.props.applications,e.props.clickedElementId)},e.state={mp3file:null},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.active,n=t.clickedElement,l=t.left,o=t.top;return!!a&&i.a.createElement("div",{style:{left:l,top:o},className:"contextMenu"},i.a.createElement("ul",{className:"contextMenu__list"},"App"===n.className?i.a.createElement(i.a.Fragment,null,i.a.createElement("li",{onClick:this.createNewLinkFile,className:"contextMenu__item"},"New link file"),i.a.createElement("li",{onClick:this.createNewTxtFile,className:"contextMenu__item"},"New txt file"),i.a.createElement("li",{onClick:function(){e.props.openInputFile("mp3"),e.props.handleClickedItem()},className:"contextMenu__item"},"Import mp3 file"),i.a.createElement("li",{onClick:function(){e.props.openInputFile("mp4"),e.props.handleClickedItem()},className:"contextMenu__item"},"Import mp4 file"),i.a.createElement("li",{onClick:function(){e.props.openInputFile("jpg"),e.props.handleClickedItem()},className:"contextMenu__item"},"Import jpg file")):"","file__overlay"===n.className?i.a.createElement(i.a.Fragment,null,i.a.createElement("li",{onClick:this.renameFile,className:"contextMenu__item"},"Rename file"),i.a.createElement("li",{onClick:this.removeFile,className:"contextMenu__item"},"Delete file")):"","taskbar__file"===n.className?i.a.createElement(i.a.Fragment,null,i.a.createElement("li",{onClick:this.closeProgram,className:"contextMenu__item"},"Close file")):""))}}]),t}(n.Component)),re=Object(m.b)(function(e){return{data:e.localStorage.data,applications:e.localStorage.apps}},{createNewTxtFile:function(e){return function(t){var a=parseInt(Object.keys(e.files)[Object.keys(e.files).length-1]);e.files[isNaN(a)?0:a+1]={name:"Text file",type:"txt",background:"http://icons.iconarchive.com/icons/pelfusion/flat-file-type/256/txt-icon.png",text:"",index:isNaN(a)?0:a+1,xPosition:null,yPosition:null,password:null},localStorage.setItem("app",JSON.stringify(e)),t({type:"REFRESH_DATA",data:JSON.parse(localStorage.getItem("app"))})}},runLinkApplication:function(e){return function(t){var a=parseInt(Object.keys(e.active)[Object.keys(e.active).length-1]);e.active[isNaN(a)?0:a+1]={background:"https://img.icons8.com/flat_round/64/000000/link.png",name:"Link",type:"link",index:isNaN(a)?0:a+1,minimalized:!1},localStorage.setItem("running",JSON.stringify(e)),t({type:"REFRESH_RUNNING_DATA",data:JSON.parse(localStorage.getItem("running"))})}},changeFileName:_.b,removeFile:_.f,removeRunningAppFromLocalStorage:_.g})(oe),ce=(a(59),function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(s.a)(this,Object(p.a)(t).call(this))).state={time:(new Date).toLocaleTimeString(),message:null},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.clockInterval=setInterval(function(){var t=(new Date).toLocaleTimeString(),a=t.split(":")[0];a>=0&&a<12&&e.setState({message:"Good morning"}),a>=12&&a<17&&e.setState({message:"Good afternoon"}),a>=17&&a<24&&e.setState({message:"Good evening"}),e.setState({time:t})},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.clockInterval)}},{key:"render",value:function(){var e=this.props.data;return i.a.createElement("div",{className:"startText"},this.state.message?i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{className:"startText__time"},"".concat(this.state.time.split(":")[0],":").concat(this.state.time.split(":")[1])),i.a.createElement("p",{className:"startText__nice"},"".concat(this.state.message,", ").concat(e.name,"."))):i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{className:"startText__time"},"".concat(this.state.time.split(":")[0],":").concat(this.state.time.split(":")[1])),i.a.createElement("p",{className:"startText__nice"},"\xa0")))}}]),t}(n.Component)),se=Object(m.b)(function(e){return{data:e.localStorage.data}},null)(ce),pe=(a(60),function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(s.a)(this,Object(p.a)(t).call(this))).handleInputFileChange=function(t){var a=t.target.files[0],n=t.target.id,i=new FileReader;i.onload=function(t){"audioInput"===n&&("audio/mp3"!==a.type&&"audio/mpeg"!==a.type||e.props.createNewAudioFile(e.props.data,a.name,t.target.result)),"videoInput"===n&&"video/mp4"===a.type&&e.props.createNewVideoFile(e.props.data,a.name,t.target.result),"imageInput"===n&&"image/jpeg"===a.type&&e.props.createNewImageFile(e.props.data,a.name,t.target.result)},i.readAsDataURL(t.target.files[0])},e.openInputFile=function(e){switch(e){case"mp3":document.getElementById("audioInput").click();break;case"mp4":document.getElementById("videoInput").click();break;case"jpg":document.getElementById("imageInput").click()}},e.state={contextMenuActive:!1,contextMenuLeft:null,contextMenuTop:null,clickedElement:"",clickedElementId:null},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.getLocalStorageJSON(),document.addEventListener("contextmenu",function(t){t.preventDefault(),"App"===t.target.className||"file__overlay"===t.target.className||"taskbar__file"===t.target.className?e.setState({contextMenuActive:!0,contextMenuLeft:t.clientX,contextMenuTop:t.clientY,clickedElement:t.target,clickedElementId:t.target.id}):"taskbar__file-icon"===t.target.className&&e.setState({contextMenuActive:!0,contextMenuLeft:t.clientX,contextMenuTop:t.clientY,clickedElement:t.target.parentElement,clickedElementId:t.target.parentElement.id})}),document.addEventListener("click",function(t){!0===e.state.contextMenuActive&&"contextMenu__item"!==t.target.className&&e.setState({contextMenuActive:!1})})}},{key:"render",value:function(){var e=this,t=this.props.data;return t?i.a.createElement("div",{style:{backgroundImage:"url(".concat(t.wallpapers.active,")")},className:"App"},i.a.createElement("input",{name:"audio",accept:"audio/mp3",onChange:this.handleInputFileChange,style:{display:"none"},type:"file",id:"audioInput"}),i.a.createElement("input",{name:"video",accept:"video/mp4",onChange:this.handleInputFileChange,style:{display:"none"},type:"file",id:"videoInput"}),i.a.createElement("input",{name:"image",accept:"image/jpeg",onChange:this.handleInputFileChange,style:{display:"none"},type:"file",id:"imageInput"}),i.a.createElement(se,null),i.a.createElement(w,{files:t.files}),i.a.createElement(te,null),i.a.createElement(re,{openInputFile:this.openInputFile,handleClickedItem:function(){return e.setState({contextMenuActive:!1})},active:this.state.contextMenuActive,clickedElement:this.state.clickedElement,clickedElementId:this.state.clickedElementId,left:this.state.contextMenuLeft,top:this.state.contextMenuTop}),i.a.createElement(le,null)):i.a.createElement(N,null)}}]),t}(n.Component)),ue=Object(m.b)(function(e){return{data:e.localStorage.data}},{getLocalStorageJSON:_.c,createNewAudioFile:function(e,t,a){return function(n){var i=parseInt(Object.keys(e.files)[Object.keys(e.files).length-1]),l=isNaN(i)?0:i+1;e.files[l]={name:t,type:"audio",background:"https://image.flaticon.com/icons/svg/337/337944.svg",image:"https://images-na.ssl-images-amazon.com/images/I/61R7gJadP7L._SX466_.jpg",index:l,xPosition:null,yPosition:null},localStorage.setItem("app",JSON.stringify(e)),n({type:"REFRESH_DATA",data:JSON.parse(localStorage.getItem("app"))}),n(f(t,l,a))}},createNewVideoFile:function(e,t,a){return function(n){var i=parseInt(Object.keys(e.files)[Object.keys(e.files).length-1]),l=isNaN(i)?0:i+1;e.files[l]={name:t,type:"video",background:"https://cdn0.iconfinder.com/data/icons/file-names-26/512/23-512.png",index:l,xPosition:null,yPosition:null},localStorage.setItem("app",JSON.stringify(e)),n({type:"REFRESH_DATA",data:JSON.parse(localStorage.getItem("app"))}),n(E(t,l,a,e))}},createNewImageFile:function(e,t,a){return function(n){var i=parseInt(Object.keys(e.files)[Object.keys(e.files).length-1]),l=isNaN(i)?0:i+1;e.files[l]={name:t,type:"image",background:"https://image.flaticon.com/icons/svg/337/337940.svg",index:l,xPosition:null,yPosition:null},localStorage.setItem("app",JSON.stringify(e)),n({type:"REFRESH_DATA",data:JSON.parse(localStorage.getItem("app"))}),n(h(t,l,a))}}})(pe);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var me=a(12),_e=a(27),de=a(8),fe={data:null,apps:null},ge={null:null},Ee={taskbarContext:!1},ve={video:{title:null,base64:null}},he={music:{title:null,base64:null}},be={output:"",refresh:null,program:null},Ne=Object(me.c)({localStorage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REFRESH_DATA":return Object(de.a)({},e,{data:t.data});case"REFRESH_RUNNING_DATA":return Object(de.a)({},e,{apps:t.data});case"GET_LOCAL_STORAGE_FAILED":return Object(de.a)({},e);default:return e}},notepad:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"SAVE_NOTEPAD_TEXT_SUCCESS":return Object(de.a)({},ge);default:return ge}},taskbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_TASKBAR_CONTEXT_MENU_SUCCESS":return Object(de.a)({},e,{taskbarContext:t.data});default:return e}},videoPlayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_VIDEO":return Object(de.a)({},ve,{video:Object(de.a)({},ve.video,{title:t.video.title,base64:t.video.base64})});default:return e}},musicPlayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_AUDIO":return Object(de.a)({},he,{music:Object(de.a)({},he.music,{title:t.audio.title,base64:t.audio.base64})});case"CLEAR_DATA":return Object(de.a)({},he,{music:Object(de.a)({},he.music,{title:null,base64:null})});default:return e}},terminal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_OUTPUT":return Object(de.a)({},e,{output:t.data,refresh:Date.now().toString(36)+Math.random().toString(36).substr(2)});case"SET_PROGRAM":return Object(de.a)({},e,{program:t.data.program,output:t.data.output});case"REMOVE_PROGRAM":return Object(de.a)({},e,{program:null,output:t.data});case"CLEAR_OUTPUT":return Object(de.a)({},e,{output:""});default:return e}}}),Oe=Object(me.d)(Ne,Object(me.a)(_e.a));o.a.render(i.a.createElement(m.a,{store:Oe},i.a.createElement(ue,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[28,1,2]]]);
//# sourceMappingURL=main.a4e42e96.chunk.js.map